%%%-------------------------------------------------------------------
%%% @author Pawel Chrzaszcz
%%% @copyright (C) 2013, Erlang Solutions Ltd.
%%% @doc Script preprocessing
%%%
%%% @end
%%% Created : 5 Aug 2013 by pawel.chrzaszcz@erlang-solutions.com
%%%-------------------------------------------------------------------
-module(dyntrace_gen_preprocess).

-include("dyntrace_util.hrl").

-import(dyntrace_gen_util, [tag/2]).

-compile(export_all).

-record(state, {}).

%%-----------------------------------------------------------------------------
%% dyntrace_gen callbacks
%%-----------------------------------------------------------------------------
probes(Probes, State) ->
    {tag(probe, Probes), State}.

probe({probe, Point, _Predicate, Statements}, State) ->
    probe({probe, Point, Statements}, State);
probe({probe, Point, Statements}, State) ->
    {tag(st, Statements), State}.

st({printa, _Format, Args}, State) ->
    
